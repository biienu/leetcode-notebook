树状数组模板:

```java
int[] tree;

int lowBit(int x){
    return x & (-x); // 返回x的二进制位中从左往右数，倒数第一个1和1后面的数。
}

//查询前缀和(1 - n 之间的和)
int query(int n){
    int ans = 0;
    for(int i = n; i > 0; i -= lowBit(i)){
        ans += tree[i];
    }
    return ans;
}

//在树状数组 x 位置 增加 u,
void add(int x, int u){
    for(int i = x; i <= n; i += lowBit(i)){
        tree[i] += u;
    }
}

//初始化树状数组，默认从 1 开始
{
    for(int i = 0; i < n; i++){
        add(i + 1, nums[i]);
    }
}

//使用树状数组 
void update(int i, int val){
    //原有的值是 nums[i], 现在变成 val，变化量为 val - nums[i];
    add(i + 1, val - nums[i]);
    nums[i] = val;
}

int sumRange(int l, int r){
    return query(r)
}

```

